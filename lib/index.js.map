{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["\r\n\r\nclass EventManager {\r\n  \r\n  constructor() {\r\n    this._events = {};\r\n    this._once   = {};\r\n  }\r\n  \r\n  on(name, ...callbacks) {\r\n    this._events[name] = this._events[name] || [];\r\n    this._events[name] = this._events[name].concat(callbacks);\r\n  }\r\n  \r\n  once(name, ...callbacks) {\r\n    this._once[name] = this._once[name] || [];\r\n    this._once[name] = this._once[name].concat(callbacks);\r\n  }\r\n\r\n  off(name, ...callbacks) {\r\n    if (callbacks.length <= 0) {\r\n      this._events[name] = [];\r\n      return;\r\n    }\r\n    this._events[name] = this._events[name] || [];\r\n    for (let i = 0; i < callbacks.length; ++i) {\r\n      let j = this._events[name].indexOf(callbacks[i]);\r\n      while (j !== -1) {\r\n        this._events[name].splice(j, 1);\r\n        j = this._events[name].indexOf(callbacks[i]);\r\n      }\r\n    }\r\n  }\r\n  \r\n  offOnce(name, ...callbacks) {\r\n    if (callbacks.length <= 0) {\r\n      this._once[name] = [];\r\n      return;\r\n    }\r\n    this._once[name] = this._once[name] || [];\r\n    for (let i = 0; i < callbacks.length; ++i) {\r\n      let j = this._once[name].indexOf(callbacks[i]);\r\n      while (j !== -1) {\r\n        this._once[name].splice(j, 1);\r\n        j = this._once[name].indexOf(callbacks[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  _callRegularEvents(name, ...args) {\r\n    this._events[name] = this._events[name] || [];\r\n    let result = true;\r\n    let length = this._events[name].length;\r\n    for (let i = 0; i < length; ++i) {\r\n      let r = this._events[name][i](...args);\r\n      if ( (typeof r !== 'undefined') && !r ) {\r\n        result = false;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  _callOnceEvents(name, ...args) {\r\n    this._once[name] = this._once[name] || [];\r\n    let result = true;\r\n    let length = this._once[name].length;\r\n    for (let i = 0; i < length; ++i) {\r\n      let r = this._once[name][i](...args);\r\n      if ( (typeof r !== 'undefined') && !r ) {\r\n        result = false;\r\n      }\r\n    }\r\n    this._once[name] = [];\r\n    return result;\r\n  }\r\n\r\n  fire(name, ...args) {\r\n    return this._callRegularEvents(name, ...args) && this._callOnceEvents(name, ...args);\r\n  }\r\n  \r\n  emit(name, ...args) {\r\n    return this.fire(name, ...args);\r\n  }\r\n\r\n  addEventListener(name, ...args) {\r\n    this.on(name, ...args);\r\n  }\r\n\r\n  removeEventListener(name, ...args) {\r\n    this.off(name, ...args);\r\n  }\r\n\r\n}\r\n\r\nexport default EventManager;"]}